<!DOCTYPE html>
<html lang="pt-bt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício de Fixação 2</title>
</head>

<body>

    <div id="root"></div>

    <script src="https://unpkg.com/react@17.0.0/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17.0.0/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.12.4/babel.js"></script>

    <script type="text/babel">

        /*
          Usando os recursos do React (manipuladores de evento, useRef e useState),
          escreva o nome completo da pessoa (EM MAIÚSCULAS) toda vez que houver 
          alteração nos campos de nome ou sobrenome.
        */

        function MeuForm(props) {
            const userfirstnameEl = React.useRef()
            const userlastnameEl = React.useRef()

            const [username, setUsername] = React.useState('')

            function handleSubmit(event) {
                event.preventDefault()  // Previne o recarregamento do formulário
                const username = userfirstnameEl.current.value
                const lastname = userlastnameEl.current.value
                onSubmitUsername(username)
            }

            function handleChangeUserName(event) {
                //  Capturando o valor do input
                const val1 = userfirstnameEl.current.value
                const val2 = userlastnameEl.current.value
                
                setUsername(val1.toUpperCase() + ' ' + val2.toUpperCase())

            }

            return (
                <form onSubmit={handleSubmit}>
                    <div>
                        <label htmlFor="nome">Nome</label>
                        <input ref={userfirstnameEl} id="nome" type="text" onChange={handleChangeUserName} />
                    </div>
                    <div>
                        <label htmlFor="sobrenome">Sobrenome</label>
                        <input ref={userlastnameEl} id="sobrenome" type="text" onChange={handleChangeUserName} />
                    </div>
                    <div id="nomeCompleto">{username}</div>
                </form >
            )
        }

        ReactDOM.render(<MeuForm />, document.getElementById('root'))

    </script>

</body>

</html>